<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="426px" preserveAspectRatio="none" style="width:588px;height:426px;background:#FFFFFF;" version="1.1" viewBox="0 0 588 426" width="588px" zoomAndPan="magnify"><defs><filter height="300%" id="f1i86ii3vhs48j" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="233" cy="41.5659" fill="#000000" filter="url(#f1i86ii3vhs48j)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="402" y="21.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="407.5" y="46.4126">nginx</text><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="130.5" y="138.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="135.5" y="163.4126">postfix</text><ellipse cx="161" cy="41.5659" filter="url(#f1i86ii3vhs48j)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="161.5" cy="42.0659" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="7" y="138.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="14" y="163.4126">dkim</text><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="69" x="187.5" y="372.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="192.5" y="397.4126">dovecot</text><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="87" x="250.5" y="255.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="255.5" y="280.4126">imapproxy</text><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="261.5" y="138.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="266.5" y="163.4126">squirrelmail</text><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="53" x="417.5" y="138.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="422.5" y="163.4126">baikal</text><rect fill="#FEFECE" filter="url(#f1i86ii3vhs48j)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="506" y="138.5659"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="511" y="163.4126">logshow</text><!--MD5=[27c3991972a4f6bd91780d661cb037fd]
link *start to nginx--><path d="M243.157,41.5659 C271.476,41.5659 352.143,41.5659 396.629,41.5659 " fill="none" id="*start-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="401.869,41.5659,392.869,37.5659,396.869,41.5659,392.869,45.5659,401.869,41.5659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="287" y="19.6328">http, https,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="261.5" y="34.7656">smtp (+STARTTLS)</text><!--MD5=[624d6260d8d2c8e9bc70f4a746f5bce3]
link nginx to postfix--><path d="M401.852,46.9849 C367.484,53.6269 304.468,67.9839 255,91.5659 C230.568,103.2129 205.619,121.0629 187.569,135.2649 " fill="none" id="nginx-to-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="183.595,138.4199,193.1309,135.9569,187.511,135.3111,188.1568,129.6912,183.595,138.4199" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="256" y="104.6328">smtp+XCLIENT</text><!--MD5=[9ad78d9e685c8730be3f44dbe281e65c]
reverse link postfix1 to postfix--><path d="M160.129,57.2439 C159.437,70.6169 158.64,90.9159 159,108.5659 C159.201,118.4399 159.631,129.4269 160.041,138.4899 " fill="none" id="postfix1-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="160.416,51.9639,155.9359,60.7348,160.146,56.9566,163.9242,61.1668,160.416,51.9639" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="160" y="104.6328">smtp</text><!--MD5=[c70f6090e57325a8380c85284e334bd4]
reverse link dkim to postfix--><path d="M62.25,158.5659 C82.7805,158.5659 109.832,158.5659 130.43,158.5659 " fill="none" id="dkim-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="57.1787,158.5659,66.1787,162.5659,62.1787,158.5659,66.1787,154.5659,57.1787,158.5659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="75.25" y="151.6328">milter</text><!--MD5=[69c50acf091c3a2247127594012e5451]
link postfix to dovecot--><path d="M166.096,178.9469 C177.18,221.1019 203.457,321.0426 215.62,367.3004 " fill="none" id="postfix-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="216.961,372.4031,218.54,362.6817,215.6891,367.5676,210.8032,364.7167,216.961,372.4031" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="198" y="280.1328">lmtp</text><!--MD5=[e685cdd6f8d7b9b34b0290cfb30a792b]
link imapproxy to dovecot--><path d="M281.949,295.8139 C269.541,315.633 250.186,346.5473 236.842,367.86 " fill="none" id="imapproxy-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="234.09,372.2547,242.2567,366.7498,236.7436,368.017,235.4764,362.5039,234.09,372.2547" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="264" y="338.6328">imap</text><!--MD5=[191b4724f642aa285e484df8c510527c]
reverse link postfix to squirrelmail--><path d="M197.142,158.5659 C216.489,158.5659 240.541,158.5659 261.292,158.5659 " fill="none" id="postfix-backto-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.816,158.5659,200.816,162.5659,196.816,158.5659,200.816,154.5659,191.816,158.5659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="210" y="151.6328">smtp</text><!--MD5=[4fa123327d84b6175c02fd7f3012f145]
link squirrelmail to imapproxy--><path d="M305.657,178.8139 C303.274,198.3839 299.575,228.7729 296.984,250.0529 " fill="none" id="squirrelmail-to-imapproxy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="296.351,255.2549,301.4095,246.8044,296.9553,250.2916,293.4681,245.8374,296.351,255.2549" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="303" y="221.6328">imap</text><!--MD5=[707e0b4858acf3ca846b6c7536855bc1]
link squirrelmail to baikal--><path d="M354.803,158.5659 C373.744,158.5659 395.121,158.5659 412.199,158.5659 " fill="none" id="squirrelmail-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="417.354,158.5659,408.354,154.5659,412.354,158.5659,408.354,162.5659,417.354,158.5659" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="373" y="151.6328">http</text><!--MD5=[3bbcc11b9009efdee03c535b10513634]
link nginx to squirrelmail--><path d="M407.082,61.8139 C386.317,81.8819 353.78,113.3249 331.705,134.6579 " fill="none" id="nginx-to-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="327.983,138.2549,337.2347,134.8778,331.5787,134.7806,331.6759,129.1246,327.983,138.2549" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="376" y="104.6328">http</text><!--MD5=[1fc4b39773a803e6ed30e14c7fdcd0dc]
link nginx to baikal--><path d="M429.845,61.8139 C432.738,81.3839 437.231,111.7729 440.376,133.0529 " fill="none" id="nginx-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="441.145,138.2549,443.7879,128.7673,440.4149,133.3085,435.8737,129.9355,441.145,138.2549" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="438" y="104.6328">http</text><!--MD5=[9e8de672bb819e1122547c6c0a683d17]
link nginx to logshow--><path d="M445.914,61.8139 C465.632,81.8819 496.529,113.3249 517.49,134.6579 " fill="none" id="nginx-to-logshow" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="521.025,138.2549,517.5695,129.0322,517.5203,134.6888,511.8637,134.6397,521.025,138.2549" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="492" y="104.6328">http</text><!--MD5=[621eabd8e6f29aa2cf43f50901f19a03]
@startuml
hide empty description

[*] -> nginx: http, https,\nsmtp (+STARTTLS)

state postfix
nginx - -> postfix: smtp+XCLIENT
state postfix1 <<end>>
postfix -u-> postfix1: smtp

state dkim
postfix -l-> dkim: milter

state dovecot
postfix - -> dovecot: lmtp

state imapproxy
imapproxy - -> dovecot: imap

state squirrelmail
squirrelmail -l-> postfix: smtp
squirrelmail - -> imapproxy: imap
squirrelmail -> baikal: http
nginx - -> squirrelmail: http

nginx - -> baikal: http
nginx - -> logshow: http
@enduml

PlantUML version 1.2021.11beta6(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
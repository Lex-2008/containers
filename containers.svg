<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="538px" preserveAspectRatio="none" style="width:1299px;height:538px;background:#FFFFFF;" version="1.1" viewBox="0 0 1299 538" width="1299px" zoomAndPan="magnify"><defs><filter height="300%" id="fv2dhcfu2vue9" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="819" cy="16" fill="#000000" filter="url(#fv2dhcfu2vue9)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="644" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="649.5" y="157.8467">nginx</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="1046" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1055" y="157.8467">bind</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="1057.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="1062.5" y="274.8467">dyndns</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="130.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="135.5" y="274.8467">postfix</text><ellipse cx="123" cy="16" filter="url(#fv2dhcfu2vue9)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="123.5" cy="16.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="67" x="152.5" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="157.5" y="157.8467">padlock</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="7" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="14" y="274.8467">dkim</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="69" x="273.5" y="484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="278.5" y="508.8467">dovecot</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="87" x="264.5" y="367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="269.5" y="391.8467">imapproxy</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="261.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="266.5" y="274.8467">squirrelmail</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="53" x="417.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="422.5" y="274.8467">baikal</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="149" x="577.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="582.5" y="274.8467">opendkim-testmsg</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="762" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="773" y="274.8467">calc</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="71" x="847.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="61" x="852.5" y="274.8467">dropbox</text><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="954" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="959" y="274.8467">logshow</text><ellipse cx="1239" cy="16" filter="url(#fv2dhcfu2vue9)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="1239.5" cy="16.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#fv2dhcfu2vue9)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1192.5" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1197.5" y="157.8467">dehydrated</text><!--MD5=[27c3991972a4f6bd91780d661cb037fd]
link *start to nginx--><path d="M811.176,22.543 C800.972,29.871 782.69,43.337 768,56 C740.459,79.741 710.752,109.101 691.143,129.057 " fill="none" id="*start-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="687.359,132.918,696.5152,129.2898,690.8586,129.3469,690.8015,123.6904,687.359,132.918" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="794.5" y="69.0669">http, https,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="788.5" y="84.1997">imap, imaps,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="769" y="99.3325">smtp (+STARTTLS)</text><!--MD5=[b02cb77bac88a868f90c0a7cf4bce7a9]
link *start to bind--><path d="M827.593,21.237 C841.87,28.302 871.346,42.999 896,56 C947.483,83.15 1006.74,115.998 1041.41,135.38 " fill="none" id="*start-to-bind" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1045.93,137.908,1040.0303,130.0217,1041.567,135.4659,1036.1229,137.0025,1045.93,137.908" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="983" y="84.0669">dns</text><!--MD5=[b8dd797f47e13474860a08a16b45a11e]
link nginx to dyndns--><path d="M694.112,157.615 C738.98,164.379 835.649,180.343 915,203 C972.072,219.296 984.627,228.632 1040,250 C1044.03,251.554 1048.24,253.195 1052.42,254.837 " fill="none" id="nginx-to-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1057.3,256.758,1050.3867,249.7433,1052.6465,254.9292,1047.4606,257.1889,1057.3,256.758" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="966" y="216.0669">http</text><!--MD5=[b8ee63c6884aec7ba3cb1f3be66795a1]
reverse link bind to dyndns--><path d="M1074.61,178.445 C1077.76,199.705 1082.25,230.096 1085.15,249.689 " fill="none" id="bind-backto-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1073.85,173.248,1071.2105,182.7366,1074.5819,178.1941,1079.1244,181.5655,1073.85,173.248" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="1081" y="216.0669">nsupdate</text><!--MD5=[624d6260d8d2c8e9bc70f4a746f5bce3]
link nginx to postfix--><path d="M643.708,153.905 C580.64,154.362 411.991,159.868 280,203 C248.501,213.293 215.794,232.121 192.659,247.041 " fill="none" id="nginx-to-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="188.453,249.779,198.1782,248.2235,192.644,247.0522,193.8153,241.5179,188.453,249.779" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="281" y="216.0669">smtp+XCLIENT</text><!--MD5=[2ffb59642e9db47b3f7aea3e5ce91a70]
reverse link padlock to postfix--><path d="M180.474,178.35 C178.706,186.213 176.753,194.972 175,203 C171.553,218.792 167.754,236.737 164.984,249.925 " fill="none" id="padlock-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="181.664,173.07,175.7841,180.971,180.5653,177.9478,183.5885,182.729,181.664,173.07" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="176" y="216.0669">smtp</text><!--MD5=[9ad78d9e685c8730be3f44dbe281e65c]
reverse link postfix1 to postfix--><path d="M117.301,30.279 C106.4172,57.527 85.0298,121.527 100,173 C108.548,202.39 129.107,231.383 143.999,249.686 " fill="none" id="postfix1-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="119.2,25.63,112.0953,32.4508,117.3103,30.2592,119.5019,35.4742,119.2,25.63" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="101" y="157.5669">smtp</text><!--MD5=[601cf20fb6d31398fc9db44ff8c38d03]
reverse link postfix1 to padlock--><path d="M129.123,30.12 C140.276,54.021 163.953,104.756 176.965,132.64 " fill="none" id="postfix1-backto-padlock" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="126.941,25.445,127.1227,35.2922,129.0557,29.9758,134.372,31.9087,126.941,25.445" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="163" y="84.0669">smtp</text><!--MD5=[c70f6090e57325a8380c85284e334bd4]
reverse link dkim to postfix--><path d="M62.25,270 C82.7805,270 109.832,270 130.43,270 " fill="none" id="dkim-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="57.1787,270,66.1787,274,62.1787,270,66.1787,266,57.1787,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="75.25" y="263.0669">milter</text><!--MD5=[69c50acf091c3a2247127594012e5451]
link postfix to dovecot--><path d="M166.213,290.121 C174.214,317.482 191.237,368.722 216,407 C234.221,435.1646 261.399,462.2865 281.494,480.4747 " fill="none" id="postfix-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="285.414,483.9909,281.385,475.0038,281.6919,480.6524,276.0434,480.9592,285.414,483.9909" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="217" y="391.5669">lmtp</text><!--MD5=[ce465f9e4de3e79c699cf1f0de5c5283]
link nginx to dovecot--><path d="M646.492,173.073 C624.181,192.152 589.207,222.532 560,250 C472.368,332.414 372.798,435.2506 329.737,480.1988 " fill="none" id="nginx-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="326.241,483.8507,335.3536,480.1144,329.6981,480.2385,329.574,474.583,326.241,483.8507" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="488" y="333.0669">imap+PROXY</text><!--MD5=[e685cdd6f8d7b9b34b0290cfb30a792b]
link imapproxy to dovecot--><path d="M308,407.248 C308,426.8183 308,457.207 308,478.487 " fill="none" id="imapproxy-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="308,483.6888,312,474.6888,308,478.6888,304,474.6888,308,483.6888" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="309" y="450.0669">imap</text><!--MD5=[191b4724f642aa285e484df8c510527c]
reverse link postfix to squirrelmail--><path d="M197.142,270 C216.489,270 240.541,270 261.292,270 " fill="none" id="postfix-backto-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.816,270,200.816,274,196.816,270,200.816,266,191.816,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="210" y="263.0669">smtp</text><!--MD5=[4fa123327d84b6175c02fd7f3012f145]
link squirrelmail to imapproxy--><path d="M308,290.248 C308,309.818 308,340.207 308,361.487 " fill="none" id="squirrelmail-to-imapproxy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="308,366.689,312,357.689,308,361.689,304,357.689,308,366.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="309" y="333.0669">imap</text><!--MD5=[707e0b4858acf3ca846b6c7536855bc1]
link squirrelmail to baikal--><path d="M354.803,270 C373.744,270 395.121,270 412.199,270 " fill="none" id="squirrelmail-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="417.354,270,408.354,266,412.354,270,408.354,274,417.354,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="373" y="263.0669">http</text><!--MD5=[3bbcc11b9009efdee03c535b10513634]
link nginx to squirrelmail--><path d="M643.712,156.252 C598.137,160.908 499.73,173.714 422,203 C392.507,214.112 361.731,232.387 339.6,246.892 " fill="none" id="nginx-to-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="335.292,249.74,345.0058,248.1144,339.4632,246.983,340.5946,241.4404,335.292,249.74" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="423" y="216.0669">http</text><!--MD5=[1fc4b39773a803e6ed30e14c7fdcd0dc]
link nginx to baikal--><path d="M643.675,153.216 C602.296,153.31 519.821,159.438 470,203 C457.862,213.613 451.339,230.633 447.862,244.73 " fill="none" id="nginx-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="446.715,249.775,452.6135,241.8878,447.8252,244.8998,444.8132,240.1115,446.715,249.775" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="471" y="216.0669">http</text><!--MD5=[5a65b49c64bca2730ad85cb082f8104a]
link nginx to calc--><path d="M688.751,173.248 C709.341,193.316 741.605,224.759 763.494,246.092 " fill="none" id="nginx-to-calc" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="767.185,249.689,763.5327,240.5424,763.6047,246.1988,757.9484,246.2708,767.185,249.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="737" y="216.0669">http</text><!--MD5=[fcd4a5f158116574a71f253658d0fe64]
link nginx to dropbox--><path d="M694.298,165.244 C715.348,174.788 745.97,189.108 772,203 C797.852,216.797 826.241,233.71 847.837,246.961 " fill="none" id="nginx-to-dropbox" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="852.339,249.73,846.7696,241.6071,848.0804,247.11,842.5775,248.4209,852.339,249.73" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="801" y="216.0669">http</text><!--MD5=[9e8de672bb819e1122547c6c0a683d17]
link nginx to logshow--><path d="M694.211,160.35 C727.183,168.893 786.568,185.095 836,203 C875.156,217.183 918.63,236.429 949.019,250.477 " fill="none" id="nginx-to-logshow" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="953.782,252.686,947.3012,245.2698,949.2464,250.5817,943.9344,252.5269,953.782,252.686" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="880" y="216.0669">http</text><!--MD5=[96a57862ae61e101991cb2d8743fa78e]
link nginx to opendkimtestmsg--><path d="M666.155,173.248 C663.262,192.818 658.769,223.207 655.624,244.487 " fill="none" id="nginx-to-opendkimtestmsg" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="654.855,249.689,660.1263,241.3695,655.5851,244.7426,652.2121,240.2014,654.855,249.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="663" y="216.0669">http</text><!--MD5=[f4aa1899b9e29805a9dbf17ad6fa8549]
reverse link bind to dehydrated--><path d="M1101.39,153 C1126.75,153 1163.31,153 1192.37,153 " fill="none" id="bind-backto-dehydrated" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1096.15,153,1105.15,157,1101.15,153,1105.15,149,1096.15,153" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="1114.25" y="146.0669">nsupdate</text><!--MD5=[7e977eaa2729d87b8fa5b057e1877163]
reverse link dehydrated1 to dehydrated--><path d="M1239,31.379 C1239,55.857 1239,105.625 1239,132.962 " fill="none" id="dehydrated1-backto-dehydrated" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1239,26.279,1235,35.279,1239,31.279,1243,35.279,1239,26.279" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1240" y="84.0669">acme</text><!--MD5=[b710135178cb4e17e69d1ae9a860671b]
@startuml
hide empty description

[*] - -> nginx: http, https,\nimap, imaps,\nsmtp (+STARTTLS)

[*] - -> bind: dns
nginx - -> dyndns: http
dyndns -u-> bind: nsupdate

state postfix
state postfix1 <<end>>
nginx - -> postfix: smtp+XCLIENT
postfix -u-> padlock: smtp
postfix -u-> postfix1: smtp
padlock -u-> postfix1: smtp

state dkim
postfix -l-> dkim: milter

state dovecot
postfix - -> dovecot: lmtp
nginx - -> dovecot: imap+PROXY

state imapproxy
imapproxy - -> dovecot: imap

state squirrelmail
squirrelmail -l-> postfix: smtp
squirrelmail - -> imapproxy: imap
squirrelmail -> baikal: http
nginx - -> squirrelmail: http

state "opendkim-testmsg" as opendkimtestmsg

nginx - -> baikal: http
nginx - -> calc: http
nginx - -> dropbox: http
nginx - -> logshow: http
nginx - -> opendkimtestmsg: http

state dehydrated1 <<end>>
dehydrated -l-> bind: nsupdate
dehydrated -u-> dehydrated1: acme
@enduml

PlantUML version 1.2021.17beta10(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
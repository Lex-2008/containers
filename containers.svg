<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="538px" preserveAspectRatio="none" style="width:1111px;height:538px;background:#FFFFFF;" version="1.1" viewBox="0 0 1111 538" width="1111px" zoomAndPan="magnify"><defs><filter height="300%" id="f19gai2gml746i" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="723" cy="16" fill="#000000" filter="url(#f19gai2gml746i)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="512" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="517.5" y="157.8467">nginx</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="858" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="867" y="157.8467">bind</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="865.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="870.5" y="274.8467">dyndns</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="130.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="135.5" y="274.8467">postfix</text><ellipse cx="161" cy="153" filter="url(#f19gai2gml746i)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="161.5" cy="153.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="7" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="14" y="274.8467">dkim</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="69" x="273.5" y="484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="278.5" y="508.8467">dovecot</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="87" x="264.5" y="367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="269.5" y="391.8467">imapproxy</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="261.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="266.5" y="274.8467">squirrelmail</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="53" x="417.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="422.5" y="274.8467">baikal</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="149" x="577.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="582.5" y="274.8467">opendkim-testmsg</text><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="762" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="767" y="274.8467">logshow</text><ellipse cx="1051" cy="16" filter="url(#f19gai2gml746i)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="1051.5" cy="16.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f19gai2gml746i)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1004.5" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1009.5" y="157.8467">dehydrated</text><!--MD5=[27c3991972a4f6bd91780d661cb037fd]
link *start to nginx--><path d="M713.667,20.208 C697.602,25.968 664.035,39.06 639,56 C607.715,77.169 576.843,107.992 557.4,128.961 " fill="none" id="*start-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="553.905,132.757,562.9446,128.8474,557.2925,129.0794,557.0605,123.4273,553.905,132.757" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="665.5" y="69.0669">http, https,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="659.5" y="84.1997">imap, imaps,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="640" y="99.3325">smtp (+STARTTLS)</text><!--MD5=[b02cb77bac88a868f90c0a7cf4bce7a9]
link *start to bind--><path d="M730.291,23.151 C752.292,41.715 818.813,97.843 856.398,129.554 " fill="none" id="*start-to-bind" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="860.387,132.921,856.0897,124.0591,856.5662,129.6958,850.9295,130.1723,860.387,132.921" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="824" y="84.0669">dns</text><!--MD5=[b8dd797f47e13474860a08a16b45a11e]
link nginx to dyndns--><path d="M562.228,160.038 C597.554,168.664 663.641,185.423 719,203 C776.761,221.34 790.301,228.6 847,250 C851.388,251.656 855.99,253.413 860.542,255.164 " fill="none" id="nginx-to-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="865.45,257.057,858.4911,250.0875,860.7846,255.2586,855.6136,257.5521,865.45,257.057" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="770" y="216.0669">http</text><!--MD5=[b8ee63c6884aec7ba3cb1f3be66795a1]
reverse link bind to dyndns--><path d="M885.763,178.445 C888.167,199.705 891.602,230.096 893.817,249.689 " fill="none" id="bind-backto-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="885.176,173.248,882.2118,182.6402,885.7374,178.2164,890.1612,181.742,885.176,173.248" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="892" y="216.0669">nsupdate</text><!--MD5=[624d6260d8d2c8e9bc70f4a746f5bce3]
link nginx to postfix--><path d="M511.748,156.616 C466.207,161.85 367.736,175.54 289,203 C256.219,214.433 221.34,232.881 196.285,247.37 " fill="none" id="nginx-to-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.723,250.027,201.5134,248.9559,196.0441,247.5115,197.4886,242.0421,191.723,250.027" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="290" y="216.0669">smtp+XCLIENT</text><!--MD5=[9ad78d9e685c8730be3f44dbe281e65c]
reverse link postfix1 to postfix--><path d="M161,168.081 C161,188.612 161,226.824 161,249.881 " fill="none" id="postfix1-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="161,163.024,157,172.024,161,168.024,165,172.024,161,163.024" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="162" y="216.0669">smtp</text><!--MD5=[c70f6090e57325a8380c85284e334bd4]
reverse link dkim to postfix--><path d="M62.25,270 C82.7805,270 109.832,270 130.43,270 " fill="none" id="dkim-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="57.1787,270,66.1787,274,62.1787,270,66.1787,266,57.1787,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="75.25" y="263.0669">milter</text><!--MD5=[69c50acf091c3a2247127594012e5451]
link postfix to dovecot--><path d="M166.213,290.121 C174.214,317.482 191.237,368.722 216,407 C234.221,435.1646 261.399,462.2865 281.494,480.4747 " fill="none" id="postfix-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="285.414,483.9909,281.385,475.0038,281.6919,480.6524,276.0434,480.9592,285.414,483.9909" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="217" y="391.5669">lmtp</text><!--MD5=[ce465f9e4de3e79c699cf1f0de5c5283]
link nginx to dovecot--><path d="M532.336,173.402 C525.279,200.662 510.3,251.292 488,290 C443.578,367.108 370.155,443.2921 332.275,480.1306 " fill="none" id="nginx-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="328.279,483.9989,337.5278,480.6137,331.8717,480.5215,331.9639,474.8654,328.279,483.9989" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="469" y="333.0669">imap</text><!--MD5=[e685cdd6f8d7b9b34b0290cfb30a792b]
link imapproxy to dovecot--><path d="M308,407.248 C308,426.8183 308,457.207 308,478.487 " fill="none" id="imapproxy-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="308,483.6888,312,474.6888,308,478.6888,304,474.6888,308,483.6888" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="309" y="450.0669">imap</text><!--MD5=[191b4724f642aa285e484df8c510527c]
reverse link postfix to squirrelmail--><path d="M197.142,270 C216.489,270 240.541,270 261.292,270 " fill="none" id="postfix-backto-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.816,270,200.816,274,196.816,270,200.816,266,191.816,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="210" y="263.0669">smtp</text><!--MD5=[4fa123327d84b6175c02fd7f3012f145]
link squirrelmail to imapproxy--><path d="M308,290.248 C308,309.818 308,340.207 308,361.487 " fill="none" id="squirrelmail-to-imapproxy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="308,366.689,312,357.689,308,361.689,304,357.689,308,366.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="309" y="333.0669">imap</text><!--MD5=[707e0b4858acf3ca846b6c7536855bc1]
link squirrelmail to baikal--><path d="M354.803,270 C373.744,270 395.121,270 412.199,270 " fill="none" id="squirrelmail-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="417.354,270,408.354,266,412.354,270,408.354,274,417.354,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="373" y="263.0669">http</text><!--MD5=[3bbcc11b9009efdee03c535b10513634]
link nginx to squirrelmail--><path d="M511.958,163.947 C488.821,173.351 453.651,188.19 424,203 C396.599,216.686 366.567,233.835 343.927,247.223 " fill="none" id="nginx-to-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="339.5,249.848,349.2812,248.6954,343.8,247.2966,345.1989,241.8154,339.5,249.848" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="425" y="216.0669">http</text><!--MD5=[1fc4b39773a803e6ed30e14c7fdcd0dc]
link nginx to baikal--><path d="M511.953,167.548 C498.02,176.148 481.27,188.398 470,203 C460.501,215.308 454.048,231.527 449.946,244.806 " fill="none" id="nginx-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="448.436,249.923,454.8205,242.4238,449.8516,245.1276,447.1478,240.1588,448.436,249.923" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="471" y="216.0669">http</text><!--MD5=[9e8de672bb819e1122547c6c0a683d17]
link nginx to logshow--><path d="M562.306,165.236 C607.651,185.37 703.034,227.721 756.868,251.625 " fill="none" id="nginx-to-logshow" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="761.627,253.738,755.0239,246.4306,757.057,251.7094,751.7781,253.7426,761.627,253.738" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="684" y="216.0669">http</text><!--MD5=[96a57862ae61e101991cb2d8743fa78e]
link nginx to opendkimtestmsg--><path d="M556.248,173.248 C576.316,193.316 607.759,224.759 629.092,246.092 " fill="none" id="nginx-to-opendkimtestmsg" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="632.689,249.689,629.1535,240.4966,629.1535,246.1535,623.4966,246.1535,632.689,249.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="603" y="216.0669">http</text><!--MD5=[f4aa1899b9e29805a9dbf17ad6fa8549]
reverse link bind to dehydrated--><path d="M913.386,153 C938.746,153 975.306,153 1004.369,153 " fill="none" id="bind-backto-dehydrated" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="908.151,153,917.151,157,913.151,153,917.151,149,908.151,153" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="926.25" y="146.0669">nsupdate</text><!--MD5=[7e977eaa2729d87b8fa5b057e1877163]
reverse link dehydrated1 to dehydrated--><path d="M1051,31.379 C1051,55.857 1051,105.625 1051,132.962 " fill="none" id="dehydrated1-backto-dehydrated" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1051,26.279,1047,35.279,1051,31.279,1055,35.279,1051,26.279" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1052" y="84.0669">acme</text><!--MD5=[38ff231fe21e5e92b04e7639c574ca44]
@startuml
hide empty description

[*] - -> nginx: http, https,\nimap, imaps,\nsmtp (+STARTTLS)

[*] - -> bind: dns
nginx - -> dyndns: http
dyndns -u-> bind: nsupdate

state postfix
nginx - -> postfix: smtp+XCLIENT
state postfix1 <<end>>
postfix -u-> postfix1: smtp

state dkim
postfix -l-> dkim: milter

state dovecot
postfix - -> dovecot: lmtp
nginx - -> dovecot: imap

state imapproxy
imapproxy - -> dovecot: imap

state squirrelmail
squirrelmail -l-> postfix: smtp
squirrelmail - -> imapproxy: imap
squirrelmail -> baikal: http
nginx - -> squirrelmail: http

state "opendkim-testmsg" as opendkimtestmsg

nginx - -> baikal: http
nginx - -> logshow: http
nginx - -> opendkimtestmsg: http

state dehydrated1 <<end>>
dehydrated -l-> bind: nsupdate
dehydrated -u-> dehydrated1: acme
@enduml

PlantUML version 1.2021.13beta8(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
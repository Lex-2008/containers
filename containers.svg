<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="538px" preserveAspectRatio="none" style="width:1195px;height:538px;background:#FFFFFF;" version="1.1" viewBox="0 0 1195 538" width="1195px" zoomAndPan="magnify"><defs><filter height="300%" id="f872g6vu48wwq" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="803" cy="16" fill="#000000" filter="url(#f872g6vu48wwq)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="627" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="632.5" y="157.8467">nginx</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="942" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="951" y="157.8467">bind</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="955.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="960.5" y="274.8467">dyndns</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="130.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="135.5" y="274.8467">postfix</text><ellipse cx="124" cy="16" filter="url(#f872g6vu48wwq)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="124.5" cy="16.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="67" x="26.5" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="57" x="31.5" y="157.8467">padlock</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="7" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="14" y="274.8467">dkim</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="69" x="273.5" y="484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="278.5" y="508.8467">dovecot</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="87" x="264.5" y="367"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="269.5" y="391.8467">imapproxy</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="261.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="266.5" y="274.8467">squirrelmail</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="53" x="417.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="422.5" y="274.8467">baikal</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="149" x="577.5" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="139" x="582.5" y="274.8467">opendkim-testmsg</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="762" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="767" y="274.8467">logshow</text><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="865" y="250"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="28" x="876" y="274.8467">calc</text><ellipse cx="1135" cy="16" filter="url(#f872g6vu48wwq)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="1135.5" cy="16.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f872g6vu48wwq)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="1088.5" y="133"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="1093.5" y="157.8467">dehydrated</text><!--MD5=[27c3991972a4f6bd91780d661cb037fd]
link *start to nginx--><path d="M795.824,23.337 C787.105,31.042 771.951,44.45 759,56 C730.944,81.02 698.861,109.831 677.202,129.311 " fill="none" id="*start-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="673.283,132.837,682.6497,129.7931,677.0007,129.4936,677.3002,123.8447,673.283,132.837" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="785.5" y="69.0669">http, https,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="779.5" y="84.1997">imap, imaps,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="760" y="99.3325">smtp (+STARTTLS)</text><!--MD5=[b02cb77bac88a868f90c0a7cf4bce7a9]
link *start to bind--><path d="M812.299,19.81 C828.604,25.049 862.907,37.48 887,56 C913.657,76.491 937.357,107.355 951.912,128.523 " fill="none" id="*start-to-bind" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="954.876,132.885,953.1266,123.1928,952.066,128.7493,946.5095,127.6887,954.876,132.885" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="933" y="84.0669">dns</text><!--MD5=[b8dd797f47e13474860a08a16b45a11e]
link nginx to dyndns--><path d="M677.07,159.383 C712.83,167.351 780.319,183.467 836,203 C876.137,217.08 920.552,237.224 950.559,251.547 " fill="none" id="nginx-to-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="955.248,253.794,948.8607,246.2972,950.7391,251.6331,945.4032,253.5115,955.248,253.794" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="879" y="216.0669">http</text><!--MD5=[b8ee63c6884aec7ba3cb1f3be66795a1]
reverse link bind to dyndns--><path d="M971.039,178.445 C974.551,199.705 979.572,230.096 982.809,249.689 " fill="none" id="bind-backto-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="970.18,173.248,967.7019,182.78,970.9957,178.181,975.5947,181.4748,970.18,173.248" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="978" y="216.0669">nsupdate</text><!--MD5=[624d6260d8d2c8e9bc70f4a746f5bce3]
link nginx to postfix--><path d="M626.916,154.104 C565.911,155.034 405.579,161.569 280,203 C248.53,213.382 215.82,232.202 192.677,247.096 " fill="none" id="nginx-to-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="188.469,249.828,198.1958,248.2825,192.6628,247.1055,193.8398,241.5724,188.469,249.828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="281" y="216.0669">smtp+XCLIENT</text><!--MD5=[2ffb59642e9db47b3f7aea3e5ce91a70]
reverse link padlock to postfix--><path d="M73.0538,177.569 C80.8851,190.719 91.5327,207.014 103,220 C112.598,230.869 124.656,241.444 135.288,249.972 " fill="none" id="padlock-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="70.5089,173.24,71.6221,183.0257,73.043,177.5503,78.5185,178.9712,70.5089,173.24" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="104" y="216.0669">smtp</text><!--MD5=[9ad78d9e685c8730be3f44dbe281e65c]
reverse link postfix1 to postfix--><path d="M131.269,29.802 C135.127,37.218 139.564,46.867 142,56 C160.564,125.591 161.903,212.03 161.463,249.817 " fill="none" id="postfix1-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="128.721,25.058,129.4546,34.8795,131.0864,29.4631,136.5028,31.0949,128.721,25.058" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="161" y="157.5669">smtp</text><!--MD5=[601cf20fb6d31398fc9db44ff8c38d03]
reverse link postfix1 to padlock--><path d="M117.037,29.378 C112.832,36.986 107.445,46.973 103,56 C90.0927,82.214 76.5227,113.161 68.1602,132.684 " fill="none" id="postfix1-backto-padlock" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="119.483,24.978,111.6133,30.8998,117.0531,29.3478,118.605,34.7876,119.483,24.978" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="104" y="84.0669">smtp</text><!--MD5=[c70f6090e57325a8380c85284e334bd4]
reverse link dkim to postfix--><path d="M62.25,270 C82.7805,270 109.832,270 130.43,270 " fill="none" id="dkim-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="57.1787,270,66.1787,274,62.1787,270,66.1787,266,57.1787,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="75.25" y="263.0669">milter</text><!--MD5=[69c50acf091c3a2247127594012e5451]
link postfix to dovecot--><path d="M166.213,290.121 C174.214,317.482 191.237,368.722 216,407 C234.221,435.1646 261.399,462.2865 281.494,480.4747 " fill="none" id="postfix-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="285.414,483.9909,281.385,475.0038,281.6919,480.6524,276.0434,480.9592,285.414,483.9909" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="217" y="391.5669">lmtp</text><!--MD5=[ce465f9e4de3e79c699cf1f0de5c5283]
link nginx to dovecot--><path d="M633.261,173.012 C574.562,232.563 394.381,415.363 330.636,480.0349 " fill="none" id="nginx-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="326.967,483.7572,336.1342,480.1567,330.4774,480.1968,330.4374,474.54,326.967,483.7572" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="489" y="333.0669">imap+PROXY</text><!--MD5=[e685cdd6f8d7b9b34b0290cfb30a792b]
link imapproxy to dovecot--><path d="M308,407.248 C308,426.8183 308,457.207 308,478.487 " fill="none" id="imapproxy-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="308,483.6888,312,474.6888,308,478.6888,304,474.6888,308,483.6888" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="309" y="450.0669">imap</text><!--MD5=[191b4724f642aa285e484df8c510527c]
reverse link postfix to squirrelmail--><path d="M197.142,270 C216.489,270 240.541,270 261.292,270 " fill="none" id="postfix-backto-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.816,270,200.816,274,196.816,270,200.816,266,191.816,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="210" y="263.0669">smtp</text><!--MD5=[4fa123327d84b6175c02fd7f3012f145]
link squirrelmail to imapproxy--><path d="M308,290.248 C308,309.818 308,340.207 308,361.487 " fill="none" id="squirrelmail-to-imapproxy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="308,366.689,312,357.689,308,361.689,304,357.689,308,366.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="309" y="333.0669">imap</text><!--MD5=[707e0b4858acf3ca846b6c7536855bc1]
link squirrelmail to baikal--><path d="M354.803,270 C373.744,270 395.121,270 412.199,270 " fill="none" id="squirrelmail-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="417.354,270,408.354,266,412.354,270,408.354,274,417.354,270" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="373" y="263.0669">http</text><!--MD5=[3bbcc11b9009efdee03c535b10513634]
link nginx to squirrelmail--><path d="M626.756,156.742 C583.615,162.002 493.443,175.508 422,203 C392.586,214.319 361.804,232.578 339.651,247.025 " fill="none" id="nginx-to-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="335.338,249.86,345.0561,248.2606,339.5166,247.1143,340.6629,241.5748,335.338,249.86" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="423" y="216.0669">http</text><!--MD5=[1fc4b39773a803e6ed30e14c7fdcd0dc]
link nginx to baikal--><path d="M626.935,153.947 C588.468,155.205 514.652,163.1 470,203 C457.977,213.743 451.452,230.76 447.945,244.824 " fill="none" id="nginx-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="446.785,249.854,452.7038,241.982,447.9077,244.9817,444.9081,240.1856,446.785,249.854" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="471" y="216.0669">http</text><!--MD5=[9e8de672bb819e1122547c6c0a683d17]
link nginx to logshow--><path d="M676.102,173.248 C701.334,193.399 740.928,225.019 767.646,246.356 " fill="none" id="nginx-to-logshow" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="771.819,249.689,767.2822,240.9473,767.9119,246.569,762.2902,247.1987,771.819,249.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="734" y="216.0669">http</text><!--MD5=[5a65b49c64bca2730ad85cb082f8104a]
link nginx to calc--><path d="M677.437,163.777 C701.363,173.179 738.036,188.12 769,203 C800.877,218.319 836.279,237.949 860.51,251.806 " fill="none" id="nginx-to-calc" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="864.901,254.324,859.0823,246.3777,860.5632,251.8373,855.1036,253.3182,864.901,254.324" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="801" y="216.0669">http</text><!--MD5=[96a57862ae61e101991cb2d8743fa78e]
link nginx to opendkimtestmsg--><path d="M652,173.248 C652,192.818 652,223.207 652,244.487 " fill="none" id="nginx-to-opendkimtestmsg" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="652,249.689,656,240.689,652,244.689,648,240.689,652,249.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="653" y="216.0669">http</text><!--MD5=[f4aa1899b9e29805a9dbf17ad6fa8549]
reverse link bind to dehydrated--><path d="M997.386,153 C1022.75,153 1059.31,153 1088.37,153 " fill="none" id="bind-backto-dehydrated" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="992.151,153,1001.151,157,997.151,153,1001.151,149,992.151,153" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="1010.25" y="146.0669">nsupdate</text><!--MD5=[7e977eaa2729d87b8fa5b057e1877163]
reverse link dehydrated1 to dehydrated--><path d="M1135,31.379 C1135,55.857 1135,105.625 1135,132.962 " fill="none" id="dehydrated1-backto-dehydrated" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="1135,26.279,1131,35.279,1135,31.279,1139,35.279,1135,26.279" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1136" y="84.0669">acme</text><!--MD5=[90a92acc051cccabbe23f87520535473]
@startuml
hide empty description

[*] - -> nginx: http, https,\nimap, imaps,\nsmtp (+STARTTLS)

[*] - -> bind: dns
nginx - -> dyndns: http
dyndns -u-> bind: nsupdate

state postfix
state postfix1 <<end>>
nginx - -> postfix: smtp+XCLIENT
postfix -u-> padlock: smtp
postfix -u-> postfix1: smtp
padlock -u-> postfix1: smtp

state dkim
postfix -l-> dkim: milter

state dovecot
postfix - -> dovecot: lmtp
nginx - -> dovecot: imap+PROXY

state imapproxy
imapproxy - -> dovecot: imap

state squirrelmail
squirrelmail -l-> postfix: smtp
squirrelmail - -> imapproxy: imap
squirrelmail -> baikal: http
nginx - -> squirrelmail: http

state "opendkim-testmsg" as opendkimtestmsg

nginx - -> baikal: http
nginx - -> logshow: http
nginx - -> calc: http
nginx - -> opendkimtestmsg: http

state dehydrated1 <<end>>
dehydrated -l-> bind: nsupdate
dehydrated -u-> dehydrated1: acme
@enduml

PlantUML version 1.2021.17beta3(Unknown compile time)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>
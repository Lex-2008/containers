<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="523px" preserveAspectRatio="none" style="width:713px;height:523px;background:#FFFFFF;" version="1.1" viewBox="0 0 713 523" width="713px" zoomAndPan="magnify"><defs><filter height="300%" id="f72uh3tmig3pc" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><ellipse cx="542" cy="16" fill="#000000" filter="url(#f72uh3tmig3pc)" rx="10" ry="10" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="429" y="118"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="434.5" y="142.8467">nginx</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="620" y="118"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="629" y="142.8467">bind</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="613.5" y="235"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="618.5" y="259.8467">dyndns</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="61" x="130.5" y="235"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51" x="135.5" y="259.8467">postfix</text><ellipse cx="161" cy="138" filter="url(#f72uh3tmig3pc)" rx="10" ry="10" style="stroke:#000000;stroke-width:1.0;fill:none;"/><ellipse cx="161.5" cy="138.5" fill="#000000" rx="6" ry="6" style="stroke:none;stroke-width:1.0;"/><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="50" x="7" y="235"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="14" y="259.8467">dkim</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="69" x="187.5" y="469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="59" x="192.5" y="493.8467">dovecot</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="87" x="250.5" y="352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="77" x="255.5" y="376.8467">imapproxy</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="93" x="261.5" y="235"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="266.5" y="259.8467">squirrelmail</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="53" x="417.5" y="235"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="422.5" y="259.8467">baikal</text><rect fill="#FEFECE" filter="url(#f72uh3tmig3pc)" height="40" rx="12.5" ry="12.5" style="stroke:#A80036;stroke-width:1.5;" width="68" x="506" y="235"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="58" x="511" y="259.8467">logshow</text><!--MD5=[27c3991972a4f6bd91780d661cb037fd]
link *start to nginx--><path d="M532.108,18.293 C513.873,21.26 475.245,30.395 458,56 C446.88,72.51 446.822,95.488 449,112.755 " fill="none" id="*start-to-nginx" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="449.738,117.916,452.4246,108.4407,449.0307,112.9663,444.5051,109.5724,449.738,117.916" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="484.5" y="69.0669">http, https,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="122" x="459" y="84.1997">smtp (+STARTTLS)</text><!--MD5=[b02cb77bac88a868f90c0a7cf4bce7a9]
link *start to bind--><path d="M549.61,22.899 C558.756,30.173 574.33,43.157 586,56 C602.362,74.008 618.455,96.514 629.69,113.229 " fill="none" id="*start-to-bind" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="632.726,117.782,631.0588,108.0753,629.9512,113.6226,624.4038,112.515,632.726,117.782" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="23" x="611" y="76.5669">dns</text><!--MD5=[b8dd797f47e13474860a08a16b45a11e]
link nginx to dyndns--><path d="M479.105,153.392 C495.857,163.058 518.335,176.146 538,188 C562.093,202.524 588.998,219.282 609.673,232.278 " fill="none" id="nginx-to-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="613.987,234.992,608.499,226.8139,609.7548,232.3296,604.2391,233.5854,613.987,234.992" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="565" y="201.0669">http</text><!--MD5=[b8ee63c6884aec7ba3cb1f3be66795a1]
reverse link bind to dyndns--><path d="M644.787,163.445 C644.603,184.705 644.338,215.096 644.168,234.689 " fill="none" id="bind-backto-dyndns" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="644.833,158.248,640.756,167.2134,644.7901,163.2478,648.7557,167.282,644.833,158.248" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="60" x="645" y="201.0669">nsupdate</text><!--MD5=[624d6260d8d2c8e9bc70f4a746f5bce3]
link nginx to postfix--><path d="M428.865,143.021 C392.033,149.47 321.728,163.907 266,188 C239.062,199.646 211.043,217.601 190.731,231.845 " fill="none" id="nginx-to-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="186.516,234.825,196.1743,232.8969,190.5991,231.9391,191.5569,226.3639,186.516,234.825" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="267" y="201.0669">smtp+XCLIENT</text><!--MD5=[9ad78d9e685c8730be3f44dbe281e65c]
reverse link postfix1 to postfix--><path d="M160.129,153.678 C159.437,167.051 158.64,187.35 159,205 C159.201,214.874 159.631,225.861 160.041,234.924 " fill="none" id="postfix1-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="160.416,148.398,155.9359,157.1689,160.146,153.3907,163.9242,157.6009,160.416,148.398" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="160" y="201.0669">smtp</text><!--MD5=[c70f6090e57325a8380c85284e334bd4]
reverse link dkim to postfix--><path d="M62.25,255 C82.7805,255 109.832,255 130.43,255 " fill="none" id="dkim-backto-postfix" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="57.1787,255,66.1787,259,62.1787,255,66.1787,251,57.1787,255" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="37" x="75.25" y="248.0669">milter</text><!--MD5=[69c50acf091c3a2247127594012e5451]
link postfix to dovecot--><path d="M166.096,275.381 C177.18,317.536 203.457,417.4767 215.62,463.7345 " fill="none" id="postfix-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="216.961,468.8372,218.54,459.1157,215.6891,464.0017,210.8032,461.1508,216.961,468.8372" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="29" x="198" y="376.5669">lmtp</text><!--MD5=[e685cdd6f8d7b9b34b0290cfb30a792b]
link imapproxy to dovecot--><path d="M281.949,392.248 C269.541,412.0671 250.186,442.9814 236.842,464.2941 " fill="none" id="imapproxy-to-dovecot" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="234.09,468.6888,242.2567,463.1838,236.7436,464.4511,235.4764,458.938,234.09,468.6888" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="264" y="435.0669">imap</text><!--MD5=[191b4724f642aa285e484df8c510527c]
reverse link postfix to squirrelmail--><path d="M197.142,255 C216.489,255 240.541,255 261.292,255 " fill="none" id="postfix-backto-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="191.816,255,200.816,259,196.816,255,200.816,251,191.816,255" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="33" x="210" y="248.0669">smtp</text><!--MD5=[4fa123327d84b6175c02fd7f3012f145]
link squirrelmail to imapproxy--><path d="M305.657,275.248 C303.274,294.818 299.575,325.207 296.984,346.487 " fill="none" id="squirrelmail-to-imapproxy" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="296.351,351.689,301.4095,343.2385,296.9553,346.7257,293.4681,342.2715,296.351,351.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="32" x="302" y="318.0669">imap</text><!--MD5=[707e0b4858acf3ca846b6c7536855bc1]
link squirrelmail to baikal--><path d="M354.803,255 C373.744,255 395.121,255 412.199,255 " fill="none" id="squirrelmail-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="417.354,255,408.354,251,412.354,255,408.354,259,417.354,255" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="373" y="248.0669">http</text><!--MD5=[3bbcc11b9009efdee03c535b10513634]
link nginx to squirrelmail--><path d="M429.563,158.248 C403.981,178.399 363.836,210.019 336.748,231.356 " fill="none" id="nginx-to-squirrelmail" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="332.517,234.689,342.0623,232.2625,336.4449,231.5952,337.1122,225.9779,332.517,234.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="390" y="201.0669">http</text><!--MD5=[1fc4b39773a803e6ed30e14c7fdcd0dc]
link nginx to baikal--><path d="M447.635,158.32 C445.017,167.246 442.297,178.051 441,188 C439.209,201.734 439.775,217.196 440.873,229.7 " fill="none" id="nginx-to-baikal" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="441.371,234.864,444.4886,225.5216,440.891,229.8871,436.5255,226.2895,441.371,234.864" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="442" y="201.0669">http</text><!--MD5=[9e8de672bb819e1122547c6c0a683d17]
link nginx to logshow--><path d="M468.394,158.248 C483.277,178.15 506.528,209.24 522.472,230.561 " fill="none" id="nginx-to-logshow" style="stroke:#A80036;stroke-width:1.0;"/><polygon fill="#A80036" points="525.559,234.689,523.3727,225.0859,522.5647,230.6847,516.9659,229.8767,525.559,234.689" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="503" y="201.0669">http</text><!--MD5=[b61c8db36e1eb8fd3360911e3b6a051f]
@startuml
hide empty description

[*] - -> nginx: http, https,\nsmtp (+STARTTLS)

[*] - -> bind: dns
nginx - -> dyndns: http
dyndns -u-> bind: nsupdate

state postfix
nginx - -> postfix: smtp+XCLIENT
state postfix1 <<end>>
postfix -u-> postfix1: smtp

state dkim
postfix -l-> dkim: milter

state dovecot
postfix - -> dovecot: lmtp

state imapproxy
imapproxy - -> dovecot: imap

state squirrelmail
squirrelmail -l-> postfix: smtp
squirrelmail - -> imapproxy: imap
squirrelmail -> baikal: http
nginx - -> squirrelmail: http

nginx - -> baikal: http
nginx - -> logshow: http
@enduml

PlantUML version 1.2021.12(Tue Oct 05 16:01:58 UTC 2021)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>